# ESP32-S3 Audio Spectrum Visualizer (FFT)

–í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –∞—É–¥–∏–æ—Å–ø–µ–∫—Ç—Ä–∞ –Ω–∞ –±–∞–∑–µ **ESP32-S3**, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π ADC (DMA) –∏ 8-–±–∏—Ç–Ω—É—é –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é —à–∏–Ω—É –¥–ª—è –¥–∏—Å–ø–ª–µ—è **ILI9486**.

## üõ† –ñ–µ–ª–µ–∑–æ
* **MCU:** ESP32-S3 (DevKitC-1)
* **–î–∏—Å–ø–ª–µ–π:** ILI9486 (3.5" LCD, 8-bit Parallel)
* **–ú–∏–∫—Ä–æ—Ñ–æ–Ω:** –ê–Ω–∞–ª–æ–≥–æ–≤—ã–π (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ADC1_CH0 / GPIO 1)
* **–¶–ê–ü:**  PCM5102A –ø–∏–Ω—ã:

    BCK -> GPIO 14
    DIN -> GPIO 13
    LCK -> GPIO 12
    I-–í—ã—Ö–æ–¥ (L-Out): –ù–∞ –≤—Ö–æ–¥ I –≤–Ω–µ—à–Ω–µ–≥–æ —Å–º–µ—Å–∏—Ç–µ–ª—è.
    Q-–í—ã—Ö–æ–¥ (R-Out): –ù–∞ –≤—Ö–æ–¥ Q –≤–Ω–µ—à–Ω–µ–≥–æ —Å–º–µ—Å–∏—Ç–µ–ª—è.
    
## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (8-bit Parallel)

| –°–∏–≥–Ω–∞–ª –¥–∏—Å–ø–ª–µ—è | GPIO ESP32-S3 | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| **D0 - D3** | 39, 40, 41, 42 | –®–∏–Ω–∞ –¥–∞–Ω–Ω—ã—Ö (Low) |
| **D4 - D7** | 45, 46, 47, 48 | –®–∏–Ω–∞ –¥–∞–Ω–Ω—ã—Ö (High) |
| **WR** | 4 | –ó–∞–ø–∏—Å—å (Write) |
| **RS (DC)** | 6 | –ö–æ–º–∞–Ω–¥–∞ / –î–∞–Ω–Ω—ã–µ |
| **CS** | 7 | Chip Select |
| **RST** | 15 | Reset |
| **RD** | **3.3V** | –°–æ–µ–¥–∏–Ω–µ–Ω–æ —Å 3.3V (–∑–∞—â–∏—Ç–∞!) |
| **VCC / LED** | **5V** | –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º—ã—á–∫—É VBUS-VIN |

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
1. **ADC Continuous Mode (DMA):** –°—Ç–∞–±–∏–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ 44.1 –∫–ì—Ü.
2. **FFT:** 1024 —Ç–æ—á–∫–∏ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `esp-dsp`).
3. **Canvas Drawing:** –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ø–µ–∫—Ç—Ä–∞ (–¥–æ 256 –±–∏–Ω–æ–≤) —Ü–µ–ª—ã–º –∫–∞–¥—Ä–æ–º —á–µ—Ä–µ–∑ DMA-–±—É—Ñ–µ—Ä –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –º–µ—Ä—Ü–∞–Ω–∏—è.
4. **DC Offset Removal:** –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –≤—ã—á–∏—Ç–∞–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å–æ—Å—Ç–∞–≤–ª—è—é—â–µ–π —Å–∏–≥–Ω–∞–ª–∞.

## üì¶ –°–±–æ—Ä–∫–∞
–¢—Ä–µ–±—É–µ—Ç—Å—è **ESP-IDF v5.0** –∏–ª–∏ –≤—ã—à–µ.

```bash
idf.py build
idf.py flash monitor